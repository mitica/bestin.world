---
import {
  createRankChart,
  renderToSvgString
} from "../helpers/create-rank-chart";
import type { CountryRank } from "../content/common/types";

interface Props {
  ranks: CountryRank[][];
  width?: number;
  height?: number;
  colors?: string[];
  class?: string;
  responsive?: boolean;
  type?: "line" | "fill";
}

const {
  ranks,
  width = 600,
  height = 300,
  colors,
  class: className,
  responsive = false,
  type = "line"
} = Astro.props;

const chartNode = createRankChart(ranks, {
  width,
  height,
  colors,
  responsive,
  type
});
const svgString = renderToSvgString(chartNode);
---

<div class={className} set:html={svgString} />
